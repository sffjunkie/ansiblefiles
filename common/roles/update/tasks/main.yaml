---
- name: apt updgrade all
  when: "os_family == 'debian'"
  ansible.builtin.apt:
    update_cache: true
    upgrade: dist
    autoremove: true
    cache_valid_time: 86400
  notify: reboot machine

- name: yum updgrade all
  when: "os_family == 'centos'"
  ansible.builtin.yum:
    name: "*"
    state: latest
    autoremove: true
    cache_valid_time: 86400
  notify: reboot machine

- name: dnf updgrade all
  when: "os_family == 'fedora'"
  ansible.builtin.dnf:
    name: "*"
    state: latest
  notify: reboot machine

- name: pacman update all
  when: "os_family == 'archlinux'"
  community.general.pacman:
    upgrade: true
  notify: reboot machine
