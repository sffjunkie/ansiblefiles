---
- name: User | Git | Configure name
  when: username | length > 0
  become_user: "{{ user_id }}"
  community.general.git_config:
    name: user.name
    scope: global
    value: "{{ username }}"
    state: present

- name: User | Git | Configure email
  when: git_info.email | length > 0
  become_user: "{{ user_id }}"
  community.general.git_config:
    name: user.email
    scope: global
    value: "{{ git_info.email }}"
    state: present

- name: User | Git | Configure GPG Key
  when: git_info.gpg_key | default("", True) | length > 0
  become_user: "{{ user_id }}"
  community.general.git_config:
    name: user.signingKey
    scope: global
    value: "{{ git_info.gpg_key }}"
    state: present
