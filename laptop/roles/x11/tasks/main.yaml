---
- name: Install base packages.
  ansible.builtin.package:
    name: xorg
    state: present
  when: ansible_os_family == 'archlinux'

- name: Install card driver
  ansible.builtin.package:
    name: "{{ x11.video_card_driver }}"
    state: present

- name: Install display manager.
  ansible.builtin.include_tasks: "display_manager/{{ x11.display_manager }}.yaml"

- name: Install window manager.
  ansible.builtin.include_tasks: "window_manager/{{ x11.window_manager }}.yaml"
